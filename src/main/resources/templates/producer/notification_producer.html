<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultado de la Operación - Agrow</title>
    <!-- CSS y Iconos Comunes -->
    <link rel="stylesheet" th:href="@{/css/common.css}" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
</head>
<body>
    <!-- Sidebar Común -->
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>

    <!-- Contenido Principal -->
    <div class="main-content">

        <!-- Div oculto para que app.js lea los mensajes y muestre SweetAlert -->
        <div id="swal-message"
             th:data-mensaje="${type == 1 ? message : null}"  <!-- Mensaje de éxito si type es 1 -->
             th:data-error="${type == 2 ? message : null}">   <!-- Mensaje de error si type es 2 -->
        </div>

        <!-- Contenedor principal de la página de notificación -->
        <div class="form-container" style="text-align: center;"> <!-- Reutilizando form-container para el estilo de tarjeta -->

            <!-- Icono y Título dinámico -->
            <div th:if="${type == 1}" style="margin-bottom: 20px;">
                <span class="material-symbols-outlined" style="font-size: 64px; color: var(--increase);">check_circle</span>
                <h1 class="page-title" style="color: var(--increase);">Operación Exitosa</h1>
            </div>
            <div th:if="${type == 2}" style="margin-bottom: 20px;">
                 <span class="material-symbols-outlined" style="font-size: 64px; color: var(--danger);">error</span>
                 <h1 class="page-title" style="color: var(--danger);">Error en la Operación</h1>
            </div>

            <!-- Mensaje textual (puede ser redundante si SweetAlert funciona bien) -->
            <p class="page-subtitle" style="font-size: 18px; margin-bottom: 30px;" th:text="${message}">Mensaje de resultado aquí.</p>

            <!-- Botones de acción post-notificación -->
            <div class="form-actions" style="justify-content: center;">
                <a th:href="@{/producers/list}" class="btn btn-primary">
                    <span class="material-symbols-outlined icon">list</span> Ir al Listado de Productores
                </a>
                <a th:href="@{/home}" class="btn btn-secondary">
                    <span class="material-symbols-outlined icon">home</span> Ir a Inicio
                </a>
                 <!-- Opcional: Botón para intentar de nuevo si fue error? -->
                 <!--
                 <a th:if="${type == 2}" href="javascript:history.back()" class="btn btn-warning">
                    <span class="material-symbols-outlined icon">refresh</span> Intentar de Nuevo
                 </a>
                 -->
            </div>
        </div>

    </div> <!-- Fin .main-content -->

    <!-- Scripts Comunes (app.js mostrará el SweetAlert) -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script> <!-- Base -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script th:src="@{/js/app.js}"></script>

</body>
</html>